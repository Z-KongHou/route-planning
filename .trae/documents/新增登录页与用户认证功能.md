# 新增登录页与用户认证功能实现计划

## 1. 需求分析
- 新增登录页面，包含表单客户端验证
- 使用 localStorage 或 cookies 模拟用户登录与登出
- 实现站点状态的保存

## 2. 技术方案
- 使用 React + React Router + Tailwind CSS 实现
- 使用 localStorage 存储用户登录状态
- 实现登录表单验证
- 添加路由保护，未登录用户只能访问登录页

## 3. 实现步骤

### 3.1 创建登录页面组件
- 在 `src/pages/` 目录下创建 `LoginPage.jsx`
- 实现登录表单，包含用户名和密码字段
- 添加表单验证逻辑
- 实现登录提交功能

### 3.2 实现用户认证逻辑
- 创建 `src/utils/auth.js` 工具文件，包含：
  - 登录功能（保存用户信息到 localStorage）
  - 登出功能（清除 localStorage 中的用户信息）
  - 获取当前用户信息功能
  - 检查登录状态功能

### 3.3 添加路由保护
- 创建 `src/components/AuthGuard.jsx` 组件
- 用于保护需要登录才能访问的路由
- 未登录用户将被重定向到登录页

### 3.4 修改现有路由配置
- 更新 `src/routes.jsx`，添加登录页路由
- 为需要保护的路由添加 `AuthGuard` 包装

### 3.5 更新导航栏
- 修改 `src/App.jsx`，根据登录状态显示不同的导航项
- 登录状态下显示登出按钮
- 未登录状态下显示登录按钮

### 3.6 实现登出功能
- 在导航栏添加登出按钮
- 点击登出按钮清除登录状态并重定向到登录页

## 4. 表单验证规则
- 用户名：必填，至少3个字符
- 密码：必填，至少6个字符
- 实时验证，显示错误信息
- 提交时验证所有字段

## 5. 数据存储方案
- 使用 localStorage 存储用户信息
- 存储结构：`{ "user": { "username": "xxx" }, "token": "xxx" }`
- 登录状态有效期：会话期间（关闭浏览器后失效）

## 6. 页面设计
- 登录页面居中显示
- 简洁现代的设计风格
- 符合现有项目的 Tailwind CSS 样式规范
- 响应式设计，适配不同屏幕尺寸

## 7. 测试要点
- 表单验证功能
- 登录成功后的状态保存
- 登出功能
- 路由保护功能
- 页面刷新后的状态保持

## 8. 文件结构
```
src/
├── components/
│   └── AuthGuard.jsx
├── pages/
│   └── LoginPage.jsx
├── utils/
│   └── auth.js
├── App.jsx
└── routes.jsx
```